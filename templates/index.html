<!DOCTYPE html>
<html>
<head>
    <title>å¾…åŠäº‹é¡¹</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
</head>
<body>
    <style>
        .typed-container {
            margin-bottom: 20px;
            text-align: center;
            padding: 15px 0;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        #typed-text {
            font-size: 1.5em;
            font-weight: bold;
            letter-spacing: 1px;
        }
    </style>
    <script>
        new Typed('#typed-text', {
            strings: ["Welcome to Your's TODO List", "Start Managing Your Tasks", "Stay Organized"],
            typeSpeed: 80,
            backSpeed: 40,
            loop: true,
            showCursor: true,
            cursorChar: 'â¯'
        });
    </script>
</body>
</html>

{% extends "base.html" %}

{% block content %}
<div class="container">
    <!-- æ‰“å­—æœºæ•ˆæœ -->
    <div class="typed-container">
        <span id="typed-text"></span>
    </div>

    <!-- ä¸»è¦å†…å®¹åŒº -->
    <div class="content-wrapper">
        <h1 class="app-title">ğŸ“‹ ç®¡ç†å¾…åŠäº‹é¡¹ ğŸ—’ï¸</h1>

        <!-- ç»Ÿè®¡å¡ç‰‡ -->
        <div class="stats-grid">
            <div class="stats-card">
                <div class="stats-icon">ğŸ“Š</div>
                <h3>æ€»è®¡äº‹é¡¹</h3>
                <p class="stats-number">{{ stats.total }}</p>
            </div>
            <div class="stats-card">
                <div class="stats-icon">âœ…</div>
                <h3>å·²å®Œæˆ</h3>
                <p class="stats-number">{{ stats.completed }}</p>
            </div>
            <div class="stats-card">
                <div class="stats-icon">â³</div>
                <h3>å¾…å®Œæˆ</h3>
                <p class="stats-number">{{ stats.pending }}</p>
            </div>
        </div>

        <!-- æ·»åŠ è¡¨å• -->
        <div class="form-container">
            <form action="{{ url_for('add') }}" method="POST">
                <div class="input-group">
                    <input type="text" name="title" class="input-field" placeholder="æ·»åŠ æ–°çš„å¾…åŠäº‹é¡¹..." required>
                    <input type="date" name="due_date" class="input-field" required>
                    <button type="submit" class="button">æ·»åŠ </button>
                </div>
            </form>
        </div>

        <!-- å¾…åŠäº‹é¡¹è¡¨æ ¼ -->
        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>ç¼–å·</th>
                        <th>å¾…åŠäº‹é¡¹</th>
                        <th>æˆªæ­¢æ—¥æœŸ</th>
                        <th>çŠ¶æ€</th>
                        <th>æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody>
                    {% for todo in todos %}
                    <tr>
                        <td>{{ todo.id }}</td>
                        <td>{{ todo.title }}</td>
                        <td>{{ todo.due_date.strftime('%Y-%m-%d') if todo.due_date else 'æš‚æ— æ—¥æœŸ' }}</td>
                        <td>
                            <span class="status-tag {{ 'status-completed' if todo.status == 'å·²å®Œæˆ' else 'status-pending' if todo.status == 'å¾…å®Œæˆ' else 'status-cancelled' }}">
                                {{ todo.status }}
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                {% if todo.status == 'å¾…å®Œæˆ' %}
                                <button onclick="window.location.href='{{ url_for('update', id=todo.id, status='å·²å®Œæˆ') }}'"
                                        class="button button-complete">
                                    å®Œæˆ
                                </button>
                                <button onclick="window.location.href='{{ url_for('update', id=todo.id, status='å·²å–æ¶ˆ') }}'"
                                        class="button button-cancel">
                                    å–æ¶ˆ
                                </button>
                                {% endif %}
                                <button onclick="if(confirm('ç¡®å®šè¦åˆ é™¤å—?')) window.location.href='{{ url_for('delete', id=todo.id) }}'"
                                        class="button button-delete">
                                    åˆ é™¤
                                </button>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}